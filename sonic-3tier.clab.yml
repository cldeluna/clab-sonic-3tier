name: sonic-campus
topology:
  nodes:
    core1:
      kind: sonic-vs
      image: docker-sonic-vs:latest
      mgmt-ipv4: 172.20.20.6
      startup-config: ./configs/core1_config_db.json
    dist1:
      kind: sonic-vs
      image: docker-sonic-vs:latest
      mgmt-ipv4: 172.20.20.7
      startup-config: ./configs/dist1_config_db.json
    access1:
      kind: sonic-vs
      image: docker-sonic-vs:latest
      mgmt-ipv4: 172.20.20.8
      startup-config: ./configs/access1_config_db.json
    host1:
      kind: linux
      image: alpine:latest
      mgmt-ipv4: 172.20.20.9
      exec:
        - ip link set up dev eth1
        - ip addr add 192.0.2.34/27 dev eth1
  links:
    - endpoints: ["core1:eth1", "dist1:eth1"]
    - endpoints: ["dist1:eth2", "access1:eth1"]
    - endpoints: ["dist1:eth3", "access1:eth2"]
    - endpoints: ["access1:eth3", "host1:eth1"]
